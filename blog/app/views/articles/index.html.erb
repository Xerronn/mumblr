<h1>Listing articles</h1>
 <%= link_to 'Home', root_path %>
 <%= link_to 'Search', search_new_path %>
 <%= link_to 'New article', new_article_path %>
<table>
  <tr>
    <th>Title</th>
    <th>Text</th>
    <th>Author</th>
  </tr>
 
  <% @articles.each do |article| %>
    <tr>
      <td><%= article.title %></td>
      <td><%= article.text %></td>
      <td><% if article.user %>
            <%= article.user.name %>
          <% end %>
      </td>
      
      <td><%= link_to 'Show', article_path(article) %></td>
      <td><%= link_to 'Edit', edit_article_path(article) %></td>
      <td><%= link_to 'Destroy', article_path(article), method: :delete,
        data: { confirm: 'Are you sure you want to delete this article? This action cannot be undone.' } %></td>
      <td>
        <% if @articles.length > 0 %>
          <button type="button" class="btn btn-info" aria-label="Left Align">
            <%= link_to like_article_path(article), class: "like", method: :put %>
            <span class="glyphicon glyphicon-thumbs-up glyphicon-align-center" aria-hidden="true"></span>
            <span class="badge"><%= article.get_upvotes.size %></span>
          </button>
        <% end %>
      </td><td>
        <% if @articles.length > 0 %>
          <button type="button" class="btn btn-info" aria-label="Left Align">
            <%= link_to unlike_article_path(article), class: "like", method: :put %>
            <span class="glyphicon glyphicon-thumbs-down glyphicon-align-center" aria-hidden="true"></span>
            <span class="badge"><%= article.get_downvotes.size %></span>
          </button>
        <% end %>
      </td>
    </tr>
  <% end %>
</table>
